(this.webpackJsonpdoinglist2=this.webpackJsonpdoinglist2||[]).push([[0],{195:function(e,t,n){e.exports=n(363)},200:function(e,t,n){},360:function(e,t){},363:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),u=(n(200),n(8)),c=(n(61),n(9)),s=n(4),l=n(373),d=n(21),f=n(378),m=n(371),g=n(367),h=n(368),v=n(369),p=n(376),y=n(374),k=n(370),b=n(377),D=n(48),T=n(13),S=n(14),O=n(49),C=(n(201),function(){function e(){Object(T.a)(this,e)}return Object(S.a)(e,null,[{key:"formatTimeInMs",value:function(e){var t=new Date(e),n=t.getFullYear()+"-",r=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",a=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",o=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",u=(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+":",c=t.getMilliseconds();return"["+n+r+a+i+o+u+(c<10?"00"+c:c<100?"0"+c:""+c)+"]"}},{key:"formatTimeInMsToFileName",value:function(e){var t=new Date(e),n=t.getFullYear()+"_",r=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"_",a=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+"_",o=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+"_",u=(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+"_",c=t.getMilliseconds();return n+r+a+i+o+u+(c<10?"00"+c:c<100?"0"+c:""+c)}},{key:"formatTimeInMinute",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}},{key:"formatTimeInSecond",value:function(e){var t=new Date(e);return"["+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+"]"}},{key:"formatTimeInSecond3",value:function(e){var t=new Date(e);return"["+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+"]"}},{key:"formatTimeInSecond2",value:function(e){var t=new Date(e);return"["+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+"]"}},{key:"formatTimeInDay",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()<10?"0"+t.getDate():t.getDate())}},{key:"formatTimeInDay2",value:function(e){var t=new Date(e);return(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())}},{key:"formatDuration",value:function(e){e<0&&(e=-e);var t={"\u5929":Math.floor(e/864e5),"\u5c0f\u65f6":Math.floor(e/36e5)%24,"\u5206":Math.floor(e/6e4)%60,"\u79d2":Math.floor(e/1e3)%60};return Object.entries(t).filter((function(e){return 0!==e[1]})).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return"".concat(r).concat(n)})).join("")}},{key:"formatDuration2",value:function(e){e<0&&(e=-e);var t={d:Math.floor(e/864e5),h:Math.floor(e/36e5)%24,m:Math.floor(e/6e4)%60,s:Math.floor(e/1e3)%60};return t.d>0&&(t.m=0,t.s=0),t.h>0&&(t.s=0),Object.entries(t).filter((function(e){return 0!==e[1]})).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return"".concat(r).concat(n)})).join("")}},{key:"formatDuration3",value:function(e){e<0&&(e=-e);var t={"\u65f6":Math.floor(e/36e5)%24,"\u5206":Math.floor(e/6e4)%60};return Object.entries(t).filter((function(e){return 0!==e[1]})).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return"".concat(r).concat(n)})).join("")}}]),e}()),x=function(){function e(){Object(T.a)(this,e)}return Object(S.a)(e,null,[{key:"isStringEmpty",value:function(e){return"undefined"===typeof e||null===e||""===e}},{key:"exportContentToClipboard",value:function(e){var t=document.createElement("textarea");t.style.cssText="width:30%;padding:2%;min-width: 100px;opacity: 0.5;color: rgb(255, 255, 255);line-height: 18px;text-align: center;border-radius: 5px;position: fixed;top: 50%;left: 30%;z-index: 999999;background: rgb(0, 0, 0);font-size: 15px;",document.body.appendChild(t),t.value=e,t.focus(),t.select(),document.execCommand("copy")&&document.execCommand("copy"),t.blur(),document.body.removeChild(t)}},{key:"downloadFile",value:function(e,t){console.log("download");var n=document.createElement("a");n.download=e,n.style.display="none";var r=new Blob([t]);n.href=URL.createObjectURL(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"downloadModelFile",value:function(t){e.downloadFile("DoingList_".concat(C.formatTimeInMsToFileName(e.getTimestamp()),".dl"),JSON.stringify(t))}},{key:"generateId",value:function(){return(new Date).getTime()}},{key:"getTimestamp",value:function(){return(new Date).getTime()}},{key:"match",value:function(e,t){return e.search(new RegExp(t,"i"))>-1}},{key:"matchs",value:function(e,t){return e.search(t)>-1}},{key:"getRandomColor",value:function(){return"#"+(16777215*Math.random()<<0).toString(16)}},{key:"hasIntersection",value:function(e,t,n,r){return!(r<e||t<n)}},{key:"removeObject",value:function(e,t){for(var n=this.length,r=0;r<n;r++)if(e[r]===t)return 0===r?e.shift():r===n-1?e.pop():e.splice(r,1),!0;return!1}}]),e}(),j=n(17),E=function(){function e(){Object(T.a)(this,e)}return Object(S.a)(e,null,[{key:"getCurrentDayStamp",value:function(e){var t=new Date;return t.setHours(e,0,0,0),t.getTime()}},{key:"getSomeDayStamp",value:function(e,t){var n=new Date(e);return n.setHours(t,0,0,0),n.getTime()}},{key:"getOffsetedDayDur",value:function(t,n){var r=new Date(t);r.setHours(n,0,0,0);var a=new ne;return a.init(r.getTime()),a.end=r.getTime()+e.dayMills,a}},{key:"getDurationCoveredDays",value:function(t){var n=e.getSomeDayStamp(t.start,0),r=e.getSomeDayStamp(t.end,0),a=[];for(a.push(n);n<r;)n+=e.dayMills,a.push(n);return a.push(r),a}},{key:"getMyCurrentDayStamp",value:function(t,n){return(new Date).getTime()>e.getCurrentDayStamp(n)?e.getCurrentDayStamp(0)+e.dayMills*t:e.getCurrentDayStamp(0)-e.dayMills+e.dayMills*t}},{key:"getMyCurrentDayDur",value:function(t){return e.getOffsetedDayDur(e.getMyCurrentDayStamp(t,e.dayOffset),e.dayOffset)}},{key:"getMyCurrentDayDur2",value:function(t){return e.getOffsetedDayDur(e.getMyCurrentDayStamp(t,0),0)}},{key:"isSameDay",value:function(e,t){return new Date(e).getDay()===new Date(t).getDay()}}]),e}();E.dayMills=864e5,E.dayOffset=6;var w,M,I,R,L,A,N,H,_,F,K,z,P,G,B,J,W,U,Y,V=E,q=n(32),$=n.n(q),Q=n(74),X=n(190),Z=n(193),ee=new(function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.call(this,"MainDB_V1")).tasks=void 0,e.cycleRecords=void 0,e.version(1).stores({tasks:"++dbId, id, modifyTime, jsonContent",cycleRecords:"++dbId, id, modifyTime, jsonContent"}),e.tasks=e.table("tasks"),e.cycleRecords=e.table("cycleRecords"),e}return Object(S.a)(n,[{key:"deleteAll",value:function(){var e=this;this.transaction("rw",this.tasks,this.cycleRecords,Object(Q.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.tasks.clear(),e.cycleRecords.clear();case 2:case"end":return t.stop()}}),t)})))).catch((function(e){alert(e.stack||e)}))}},{key:"saveTask",value:function(e){var t=this;this.transaction("rw",this.tasks,Object(Q.a)($.a.mark((function n(){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("SaveTask dbId:".concat(e.dbId," id:").concat(e.id," name:").concat(e.title)),!e.dbId){n.next=7;break}return n.next=4,t.tasks.put({dbId:e.dbId,id:e.id,modifyTime:x.getTimestamp(),jsonContent:JSON.stringify(e)});case 4:e.dbId=n.sent,n.next=10;break;case 7:return n.next=9,t.tasks.put({id:e.id,modifyTime:x.getTimestamp(),jsonContent:JSON.stringify(e)});case 9:e.dbId=n.sent;case 10:case"end":return n.stop()}}),n)})))).catch((function(e){alert(e.stack||e)}))}},{key:"fetchAllTasks",value:function(e){var t=this;this.transaction("rw",this.tasks,Object(Q.a)($.a.mark((function n(){var r;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tasks.toArray();case 2:r=n.sent,e(r.map((function(e){var t=Object(j.plainToClass)(te,JSON.parse(e.jsonContent));return t.dbId=e.dbId,t.adaptData(),t})).filter((function(e){return!e.isDeleted})));case 4:case"end":return n.stop()}}),n)})))).catch((function(e){alert(e.stack||e)}))}},{key:"saveCycleRecord",value:function(e){var t=this;this.transaction("rw",this.cycleRecords,Object(Q.a)($.a.mark((function n(){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.cycleRecords.put({id:e.id,modifyTime:x.getTimestamp(),jsonContent:JSON.stringify(e)});case 2:e.dbId=n.sent;case 3:case"end":return n.stop()}}),n)})))).catch((function(e){alert(e.stack||e)}))}},{key:"fetchAllCycleRecord",value:function(e){var t=this;this.transaction("rw",this.cycleRecords,Object(Q.a)($.a.mark((function n(){var r;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.cycleRecords.toArray();case 2:r=n.sent,e(r.map((function(e){var t=Object(j.plainToClass)(ie,JSON.parse(e.jsonContent));return t.dbId=e.dbId,t})));case 4:case"end":return n.stop()}}),n)})))).catch((function(e){alert(e.stack||e)}))}}]),n}(n(159).a)),te=(w=Object(j.Type)((function(){return oe})),M=Object(j.Type)((function(){return re})),I=Object(j.Type)((function(){return ne})),R=Object(j.Type)((function(){return ae})),K=F=function(){function e(){Object(T.a)(this,e),this.id=-1,this.dbId=void 0,this.title="undefine",Object(D.a)(this,"note",A,this),this.level=3,this.createTime=-1,this.doneTime=-1,this.pendingDeadline=-1,this.pendingReason="",this.deadlines=[],this.expectConsumes=[],this.expectStartTime=-1,Object(D.a)(this,"adjusts",N,this),Object(D.a)(this,"doingDurs",H,this),Object(D.a)(this,"childTasks",_,this),this.cycleId=-1,this.isDeleted=!1}return Object(S.a)(e,[{key:"init",value:function(t){this.title=t,this.createTime=x.getTimestamp(),this.expectStartTime=this.createTime,this.id=x.generateId()+e.idCounter,e.idCounter=e.idCounter+1e3}},{key:"adaptData",value:function(){-1===this.expectStartTime&&(this.expectStartTime=this.createTime)}},{key:"isSameTask",value:function(e){return void 0!==e&&this.id===e.id}},{key:"isDoing",value:function(){return 0!==this.doingDurs.length&&-1===this.doingDurs[this.doingDurs.length-1].end}},{key:"isCycleTask",value:function(){return-1!==this.cycleId}},{key:"isStarted",value:function(){return 0!==this.doingDurs.length}},{key:"lastStartTime",value:function(){return 0===this.doingDurs.length?-1:this.doingDurs[this.doingDurs.length-1].start}},{key:"start",value:function(){var e=new ne,t=x.getTimestamp();e.init(t),this.doingDurs.push(e),t<this.expectStartTime&&(this.expectStartTime=t)}},{key:"stop",value:function(){this.doingDurs[this.doingDurs.length-1].end=x.getTimestamp()-1}},{key:"stopDelay",value:function(e){this.doingDurs[this.doingDurs.length-1].end=x.getTimestamp()+e}},{key:"isDone",value:function(){return-1!==this.doneTime}},{key:"isFutureTask",value:function(e){return this.expectStartTime>e.end}},{key:"isPending",value:function(){return-1!==this.pendingDeadline}},{key:"isDangerousPending",value:function(){return this.isTimeDangers(this.pendingDeadline)}},{key:"isDangerousDeadline",value:function(){return this.isTimeDangers(this.getActualDeadline())}},{key:"isDangerous",value:function(){return this.isDangerousPending()||this.isDangerousDeadline()}},{key:"isTimeDangers",value:function(e){return!(e<=0)&&e-x.getTimestamp()<=72e5}},{key:"done",value:function(){this.doneTime=x.getTimestamp()}},{key:"getAllDuration",value:function(){var e=this;return 0===this.doingDurs.length?0:this.doingDurs.map((function(t,n){return t.getDur(n===e.doingDurs.length-1)})).reduce((function(e,t){return e+t}))+this.allAdjusts()}},{key:"allAdjusts",value:function(){return 0===this.adjusts.length?0:this.adjusts.map((function(e){return e.adjust})).reduce((function(e,t){return e+t}))}},{key:"getAllDurationInDur",value:function(e){var t=this;return 0===this.doingDurs.length?0:this.doingDurs.map((function(n,r){return n.getLimitDur(r===t.doingDurs.length-1,e)})).reduce((function(e,t){return e+t}))+this.allDurAdjusts(e)}},{key:"allDurAdjusts",value:function(e){var t=this.adjusts.filter((function(t){return e.isIn(t.adjustTime)}));return 0===t.length?0:t.map((function(e){return e.adjust})).reduce((function(e,t){return e+t}))}},{key:"getActualDeadline",value:function(){return 0===this.deadlines.length?-1:this.deadlines[this.deadlines.length-1]}},{key:"isHaveDeadline",value:function(){return this.getActualDeadline()>0}},{key:"getActualExpectConsume",value:function(){return 0===this.expectConsumes.length?-1:this.expectConsumes[this.expectConsumes.length-1]}},{key:"isExpectConsume",value:function(){return this.getActualExpectConsume()>0}},{key:"getLeftExpectConsumeTime",value:function(){return this.getActualExpectConsume()-this.getAllDuration()}},{key:"removeTimeline",value:function(e){for(var t=this.note.timeLines,n=t.length,r=0;r<n;r++)if(t[r].timeStamp===e.timeStamp)return 0===r?t.shift():r===n-1?t.pop():t.splice(r,1),!0;return!1}},{key:"removeDuration",value:function(e){for(var t=this.doingDurs.length,n=0;n<t;n++)if(this.doingDurs[n].isValid(!1)&&(this.doingDurs[n].start===e||this.doingDurs[n].end===e))return 0===n?this.doingDurs.shift():n===t-1?this.doingDurs.pop():this.doingDurs.splice(n,1),!0;return!1}},{key:"removeChildTask",value:function(e){for(var t=this.childTasks.length,n=0;n<t;n++)if(this.childTasks[n].createTime==e.createTime)return 0===n?this.childTasks.shift():n===t-1?this.childTasks.pop():this.childTasks.splice(n,1),!0;return!1}},{key:"getOrderedChildTasks",value:function(){return this.childTasks.sort((function(e,t){return e.isDone()&&!t.isDone()?1:!e.isDone()&&t.isDone()||e.order>t.order?-1:e.order<t.order?1:e.createTime>t.createTime?-1:e.createTime<t.createTime?1:0}))}}]),e}(),F.idCounter=0,L=K,A=Object(O.a)(L.prototype,"note",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new oe}}),N=Object(O.a)(L.prototype,"adjusts",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=Object(O.a)(L.prototype,"doingDurs",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=Object(O.a)(L.prototype,"childTasks",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L),ne=function(){function e(){Object(T.a)(this,e),this.start=-1,this.end=-1,this.name=""}return Object(S.a)(e,[{key:"init",value:function(e){this.start=e}},{key:"init2",value:function(e,t){this.start=e,void 0!=t&&(this.end=t)}},{key:"isIn",value:function(e){return e>=this.start&&e<=this.end}},{key:"getDur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getDurDur(e);return null===t?0:t.end-t.start}},{key:"getDurDur",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.end;return-1==n&&t&&(n=x.getTimestamp()),-1==n?(console.error("\u8fd9\u6bb5\u65f6\u95f4\u672a\u7ed3\u675f"),null):e.create(this.start,n)}},{key:"getLimitDur",value:function(e,t){var n,r=null===(n=this.getDurDur(e))||void 0===n?void 0:n.getJoin(t);return null===r||void 0===r?0:r.end-r.start}},{key:"isValid",value:function(e){return!(!e&&-1==this.end)}},{key:"getJoin",value:function(t){return this.end<=t.start||this.start>=t.end?null:e.create(Math.max(t.start,this.start),Math.min(t.end,this.end))}}],[{key:"create",value:function(t,n,r){var a=new e;return void 0!=t&&(a.start=t),void 0!=n&&(a.end=n),void 0!=r&&(a.name=r),a}}]),e}(),re=function(){function e(){Object(T.a)(this,e),this.adjust=-1,this.adjustTime=-1}return Object(S.a)(e,null,[{key:"create",value:function(t){var n=new e;return n.adjust=t,n.adjustTime=x.getTimestamp(),n}}]),e}(),ae=function(){function e(){Object(T.a)(this,e),this.name="",this.createTime=-1,this.doneTime=-1,this.order=-1}return Object(S.a)(e,[{key:"isDone",value:function(){return-1!==this.doneTime}},{key:"addOrder",value:function(){return this.order++}},{key:"downOrder",value:function(){return this.order--}},{key:"done",value:function(){this.doneTime=x.getTimestamp()}},{key:"reStart",value:function(){this.doneTime=-1}}],[{key:"create",value:function(t){var n=new e;return n.name=t,n.createTime=x.getTimestamp(),n}}]),e}(),ie=function(){function e(){Object(T.a)(this,e),this.dbId=void 0,this.id=-1,this._startTime=[],this._gap=[],this.title="undefine",this.level=3,this.expectConsumes=-1}return Object(S.a)(e,[{key:"init",value:function(e,t,n){this.id=x.generateId(),this.title=t,this.level=n,this._gap.push(e),this._startTime.push(x.getTimestamp())}},{key:"getGap",value:function(){return 0===this._gap.length?-1:this._gap[this._gap.length-1]}},{key:"setGap",value:function(e){this._gap.push(e)}},{key:"getStartTime",value:function(){return 0===this._startTime.length?-1:this._startTime[this._startTime.length-1]}},{key:"setStartTime",value:function(e){this._startTime.push(e)}},{key:"isTimeToCreateTask",value:function(){return(V.getCurrentDayStamp(0)-V.getSomeDayStamp(this.getStartTime(),0))%(24*this.getGap()*3600*1e3)===0}},{key:"isTimeToCreateTask2",value:function(){return(V.getMyCurrentDayStamp(0,V.dayOffset)-V.getSomeDayStamp(this.getStartTime(),0))%(24*this.getGap()*3600*1e3)===0}},{key:"createTask",value:function(){var e=new te;return e.init("[\u5468|".concat(C.formatTimeInDay2(V.getMyCurrentDayStamp(0,V.dayOffset)),"] ").concat(this.title)),e.level=this.level,e.expectConsumes.push(this.expectConsumes),e.cycleId=this.id,e.expectStartTime=x.getTimestamp(),e}}]),e}(),oe=(z=Object(j.Type)((function(){return ue})),P=function(){function e(){Object(T.a)(this,e),this.content="",Object(D.a)(this,"timeLines",G,this)}return Object(S.a)(e,[{key:"hasTimeLine",value:function(){return 0!==this.timeLines.length}},{key:"endTimeLine",value:function(){return this.hasTimeLine()?this.timeLines[this.timeLines.length-1]:null}},{key:"getStartEndWrappedTimeLines",value:function(e){return e.map((function(e){var t=[];return e.start>0&&t.push(ue.createStartEndAutoNode("\u2514\u2508\u2508\u2508\u2518",e.start)),e.end>0&&t.push(ue.createStartEndAutoNode("\u250c\u2508\u2508\u2508\u2510",e.end)),t})).flatMap((function(e){return e})).concat(this.timeLines)}},{key:"getFormartTimeLines",value:function(e){var t=this.getStartEndWrappedTimeLines(e).filter((function(e){return!e.isDivder})).sort((function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0}));return ue.addDivders(t)}}]),e}(),G=Object(O.a)(P.prototype,"timeLines",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P),ue=function(){function e(){Object(T.a)(this,e),this.timeStamp=-1,this.isDivder=!1,this.content="",this.title="",this.isStartEndAutoGen=!1}return Object(S.a)(e,[{key:"getTitled",value:function(e){var t=Object.assign({},this);return t.title=e,t}},{key:"getKey",value:function(){return this.timeStamp*(this.isDivder?-1:1)}}],[{key:"createContentNode",value:function(t){var n=new e;return n.timeStamp=x.getTimestamp(),n.content=t,n}},{key:"createStartEndAutoNode",value:function(t,n){var r=new e;return r.timeStamp=n,r.content=t,r.isStartEndAutoGen=!0,r}},{key:"createDivNode",value:function(t){var n=new e;return n.timeStamp=t,n.isDivder=!0,n}},{key:"addDivders",value:function(t){return 0===t.length?[]:V.getDurationCoveredDays(ne.create(t[t.length-1].timeStamp,t[0].timeStamp)).map((function(t){return e.createDivNode(t)})).concat(t).sort((function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0})).filter((function(e,t,n){return!e.isDivder||(0==t||!n[t-1].isDivder)}))}}]),e}(),ce=function e(){Object(T.a)(this,e),this.totalAdjustConsumeTime=0,this.autoSaveGapInHour=-1,this.lastAutoSaveTime=-1},se=(B=Object(j.Type)((function(){return te})),J=Object(j.Type)((function(){return ie})),W=function(){function e(){Object(T.a)(this,e),Object(D.a)(this,"tasks",U,this),Object(D.a)(this,"cycleRecords",Y,this),this.config=new ce}return Object(S.a)(e,[{key:"getTasks",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.tasks.filter((function(n){return t?!n.isDone()||e.isIn(n.doneTime):!n.isDone()&&n.expectStartTime<=e.end||e.isIn(n.doneTime)})).filter((function(e){return!e.isDeleted}));return this.sortTasks(n,e)}},{key:"getCurrentDayDoingTasks",value:function(e){return this.tasks.filter((function(t){return void 0!==t.doingDurs.find((function(t){return e.isIn(t.start)}))||void 0!==t.adjusts.find((function(t){return e.isIn(t.adjustTime)}))}))}},{key:"addTask",value:function(e){return this.containsProject(e.id)?"same id":void 0!==this.tasks.find((function(t){return!t.isDone()&&t.title===e.title}))?"same title":(this.tasks.push(e),"")}},{key:"addCycleRecord",value:function(e){this.containsCycleRecord(e.id)||this.cycleRecords.push(e)}},{key:"invokeAddCycleTask",value:function(){var e=this;this.cycleRecords.forEach((function(t){if(t.isTimeToCreateTask2()&&0===e.tasks.filter((function(e){var n=e.cycleId===t.id,r=V.getMyCurrentDayDur(0).isIn(e.createTime);return n&&r})).length){console.log("create cycle task, record:".concat(t.title));var n=t.createTask();e.addTask(n),ee.saveTask(n)}}))}},{key:"removeTask",value:function(e){if(!this.containsProject(e.id))return!1;for(var t=this.tasks.length,n=0;n<t;n++)if(this.tasks[n].id===e.id)return 0===n?this.tasks.shift():n===t-1?this.tasks.pop():this.tasks.splice(n,1),!0;return!1}},{key:"containsProject",value:function(e){return void 0!==this.tasks.find((function(t){return t.id===e}))}},{key:"containsCycleRecord",value:function(e){return void 0!==this.cycleRecords.find((function(t){return t.id===e}))}},{key:"normalUpdate",value:function(e){var t=this;this.invokeAddCycleTask(),this.orderTasks(e),setTimeout((function(){return t.invokeAutoDownload()}),0)}},{key:"invokeAutoDownload",value:function(){this.config.autoSaveGapInHour>0&&x.getTimestamp()-this.config.lastAutoSaveTime>3600*this.config.autoSaveGapInHour*1e3&&this.download()}},{key:"download",value:function(){x.downloadModelFile(this),this.config.lastAutoSaveTime=x.getTimestamp(),localStorage.setItem("CONFIG_STORE_KEY",JSON.stringify(this.config))}},{key:"orderTasks",value:function(e){}},{key:"sortTasks",value:function(e,t){return e.sort((function(e,n){return e.isDone()&&!n.isDone()?1:!e.isDone()&&n.isDone()?-1:e.isFutureTask(t)&&!n.isFutureTask(t)?1:!e.isFutureTask(t)&&n.isFutureTask(t)||e.isDoing()?-1:n.isDoing()?1:e.isDangerous()&&!n.isDangerous()?-1:!e.isDangerous()&&n.isDangerous()||e.level>n.level?1:e.level<n.level||e.createTime>n.createTime?-1:e.createTime<n.createTime?1:0}))}}]),e}(),U=Object(O.a)(W.prototype,"tasks",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=Object(O.a)(W.prototype,"cycleRecords",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W),le={storeModel:void 0,fetchData:function(){var e=this;if(void 0===this.storeModel){this.storeModel=new se;var t=localStorage.getItem("CONFIG_STORE_KEY");if(null!=t)try{this.storeModel.config=Object(j.plainToClass)(ce,JSON.parse(t))}catch(n){console.error("CONFIG_STORE_KEY RESTORE RERROR:"+t)}ee.fetchAllTasks((function(t){void 0!==e.storeModel&&(e.storeModel.tasks=t,e._onInitFinish(e.storeModel))})),ee.fetchAllCycleRecord((function(t){void 0!==e.storeModel&&(e.storeModel.cycleRecords=t,e._onInitFinish(e.storeModel))}))}},saveTask:function(e){ee.saveTask(e)},saveCycleRecord:function(e){ee.saveCycleRecord(e)},importModel:function(e){this.storeModel=e,ee.deleteAll(),this.storeModel.tasks.forEach((function(e){return ee.saveTask(e)})),this.storeModel.cycleRecords.forEach((function(e){return ee.saveCycleRecord(e)})),this.saveConfig()},_onInitFinish:function(e){this.storeModel=e},saveConfig:function(){var e;localStorage.setItem("CONFIG_STORE_KEY",JSON.stringify(null===(e=this.storeModel)||void 0===e?void 0:e.config))}},de=n(160),fe={currentTask:void 0,setCurrentTask:function(e){this.currentTask=e}},me={currentDoingTask:void 0,setCurrentDoingTask:function(e){this.currentDoingTask=e}},ge=new(n.n(de).a);ge.registerStore("mainmodel",le),ge.registerStore("CurrentTaskKey",fe),ge.registerStore("CurrentDoingTaskKey",me),ge.registerStore("CurrentDayOffsetKey",{currentDayOffset:0,setCurrentDayOffset:function(e){this.currentDayOffset=e}}),ge.registerStore("SearchTextStoreKey",{searchText:"",setSearchText:function(e){this.searchText=e}}),ge.registerStore("SearchModeStoreKey",{searchMode:0,setSearchMode:function(e){this.searchMode=e}});var he=ge,ve=function(){function e(){Object(T.a)(this,e)}return Object(S.a)(e,null,[{key:"getDoingStatusTips",value:function(e){return e.isDoing()?"Doing \ud83d\udd34":""}},{key:"getConsumed",value:function(e){var t=C.formatDuration2(e.getAllDuration());return x.isStringEmpty(t)?"":"\u8fdb\u884c".concat(t,"(").concat(e.doingDurs.length,"\u6b21) ")}},{key:"getDeadline",value:function(t){var n=e.getPendingStatus(t);return x.isStringEmpty(n)?e.getDeadlineStatus(t):n}},{key:"getDeadlineStatus",value:function(e){var t=e.getActualDeadline();if(t<=0)return"";var n=t-x.getTimestamp();if(n<=1e3)return"Dead\u8d85\u671f\u2757 ";var r=C.formatDuration2(n);return"Dead\u5269\u4f59".concat(r," ")}},{key:"getPendingStatus",value:function(e){var t=e.pendingDeadline;if(t<=0)return"";var n=t-x.getTimestamp();if(n<=1e3)return"Pend\u8d85\u671f(".concat(e.pendingReason,")\u2757");var r=C.formatDuration2(n);return"Pend\u5269\u4f59".concat(r," ")}},{key:"getConsumeExpected",value:function(e){if(e.getActualExpectConsume()<=0)return"";var t=e.getLeftExpectConsumeTime();return t<=0?"\u591a\u7528".concat(C.formatDuration2(-t)," "):"\u8fd8\u8981".concat(C.formatDuration2(t)," ")}},{key:"getStartExpected",value:function(e){var t=x.getTimestamp();return t>e.expectStartTime?"":"\u8fd8\u6709".concat(C.formatDuration2(e.expectStartTime-t),"\u5f00\u59cb")}}]),e}(),pe=n(372),ye=function(){var e=he.useStore("mainmodel"),t=e.storeModel,n=e.saveConfig,i=e.importModel,o=Object(r.useState)(!1),u=Object(s.a)(o,2),c=u[0],m=u[1],g=Object(r.useState)(0),h=Object(s.a)(g,2),v=h[0],p=h[1];function y(){null===t||void 0===t||t.download()}return Object(r.useEffect)((function(){void 0!==t&&p(t.config.autoSaveGapInHour)}),[c]),a.a.createElement("span",null,a.a.createElement(d.a,{type:"primary",size:"small",onClick:function(e){return m(!0)}},"\u8bbe\u7f6e"),a.a.createElement(pe.a,{title:"\u8bbe\u7f6e",visible:c,onOk:function(e){void 0!==t&&(t.config.autoSaveGapInHour=v,n(),m(!1))},onCancel:function(e){m(!1)}},a.a.createElement("div",null,a.a.createElement(d.a,{type:"primary",size:"small",onClick:function(e){return y()}},"\u5bfc\u51fa"),a.a.createElement("input",{style:{width:"100px",marginRight:"20px"},type:"file",id:"upload-file",multiple:!0,onChange:function(e){return function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(){var e=this.result;"string"===typeof e?pe.a.confirm({title:"\u786e\u5b9a\u8981\u5bfc\u5165\u561b\uff1f",content:"\u5bfc\u5165\u4f1a\u8986\u76d6\u5f53\u524d\u6240\u6709\u4efb\u52a1",onOk:function(){y(),i(Object(j.plainToClass)(se,JSON.parse(e)))}}):f.a.error("\u5bfc\u5165\u6587\u4ef6\u6709\u95ee\u9898\uff0c\u5bfc\u5165\u5931\u8d25")},n.readAsText(t)}(e)}})),a.a.createElement(l.a,{style:{width:"170px",marginTop:"15px"},value:v,placeholder:"-1\u4e3a\u5173\u95ed",prefix:"\u81ea\u52a8\u4fdd\u5b58\u95f4\u9694",suffix:"h",onChange:function(e){return p(Number(e.target.value))}})))},ke=(n(144),n(46)),be=n.n(ke);function De(){var e=Object(u.a)(["\n:hover{\n\t/* background-color:#b4e7fc; */\n  background-color: ","\n};\nbackground-color: ",";\nopacity : ",";\n"]);return De=function(){return e},e}function Te(){var e=Object(u.a)(["\n padding: 4px;\nbackground-color: ",";\ncolor: ",";\n  font-weight: ",";\n"]);return Te=function(){return e},e}function Se(){var e=Object(u.a)(["\nmargin: 1%;\n"]);return Se=function(){return e},e}function Oe(){var e=Object(u.a)(["\nmargin: 1%;\n"]);return Oe=function(){return e},e}function Ce(){var e=Object(u.a)(["\n  /* background: #d1d3a2; */\n  /* background: #d1dfff; */\n  background: #282c34;\n  overflow:auto;\n  /* height: 800px; */\n  /* height: 83vh; */\n  margin-top:10px;\n\n  /* flex: 0 1 auto \u5c45\u7136\u6548\u679c\u4e00\u6837 */\n  flex: 1 1 auto;\n"]);return Ce=function(){return e},e}function xe(){var e=Object(u.a)(["\n  width:100px;\n  display:inline-block;\n  text-align:center;\n"]);return xe=function(){return e},e}function je(){var e=Object(u.a)(["\n"]);return je=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  /* background: #d1d3a2; */\n  /* background: #d1dfff; */\n  background: #282c34;\n  height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n"]);return Ee=function(){return e},e}var we=c.a.div(Ee()),Me=c.a.div(je()),Ie=(c.a.span(xe()),c.a.div(Ce())),Re=(Object(c.a)(l.a.Group)(Oe()),Object(c.a)(d.a.Group)(Se())),Le=c.a.span(Te(),(function(e){return e.isDangerous?"#ff0000":"#ffffff"}),(function(e){return e.isDangerous?"#ffff00":"#000000aa"}),(function(e){return e.isDangerous?"bold":"normal"})),Ae=c.a.div(De(),(function(e){return e.choosed?"#f5b52b":"#b4e7fc"}),(function(e){if(e.choosed)return"#f5b52b";switch(e.level){case 1:return"#fdf0ee";case 2:return"#fdfcee";case 3:return"#eefdfc";case 4:return"#eefdef";default:return"#ffffff"}}),(function(e){return e.isDone?.1:e.isFuture?.5:1})),Ne=function(){var e=he.useStore("mainmodel"),t=e.storeModel,n=e.saveTask,i=he.useStore("CurrentTaskKey"),o=i.currentTask,u=i.setCurrentTask,c=he.useStore("CurrentDoingTaskKey"),s=c.currentDoingTask,l=c.setCurrentDoingTask,g=he.useStore("CurrentDayOffsetKey"),y=g.currentDayOffset,D=(g.setCurrentDayOffset,he.useStore("SearchModeStoreKey")),T=D.searchMode,S=(D.setSearchMode,he.useStore("SearchTextStoreKey")),O=S.searchText;S.setSearchText;Object(r.useEffect)((function(){if(void 0===s&&void 0!==t){var e=t.tasks.filter((function(e){return e.isDoing()}));if(0===e.length)return;if(e.length>1){f.a.error("\u6709 ".concat(e.length," \u4e2a\u4efb\u52a1\u5728\u8fd0\u884c\u4e2d\uff0c\u81ea\u52a8\u5173\u95ed"));for(var n=1;n<e.length;n++)e[n].stop()}l(e[0])}}));function j(e){return a.a.createElement(m.a,{onClick:function(r){return function(e,r){r.level=Number(e.key),null===t||void 0===t||t.normalUpdate(V.getMyCurrentDayDur(y)),n(r),e.domEvent.preventDefault()}(r,e)}},a.a.createElement(m.a.Item,{key:"1"},"\u4f18\u5148\u7ea7 1"),a.a.createElement(m.a.Item,{key:"2"},"\u4f18\u5148\u7ea7 2"),a.a.createElement(m.a.Item,{key:"3"},"\u4f18\u5148\u7ea7 3"),a.a.createElement(m.a.Item,{key:"4"},"\u4f18\u5148\u7ea7 4"),a.a.createElement(m.a.Item,{key:"5"},"\u4f18\u5148\u7ea7 5"))}function E(e,r){r.isDone()?f.a.error("\u4efb\u52a1\u5df2\u5b8c\u6210\uff0c\u5b8c\u6210\u65f6\u95f4:".concat(C.formatTimeInMs(r.doneTime))):void 0==s||s.id!==r.id?(r.isDoing()&&f.a.error("\u4efb\u52a1\u5f02\u5e38\u4e2d\u65ad\uff0c\u91cd\u65b0\u5f00\u59cb\u3002\u4e0a\u6b21\u5f00\u59cb\u65f6\u95f4\uff1a".concat(C.formatTimeInMs(r.lastStartTime()))),void 0!=s&&(s.stop(),n(s)),r.start(),l(r),null===t||void 0===t||t.normalUpdate(V.getMyCurrentDayDur(y)),n(r)):f.a.error("\u4efb\u52a1\u5df2\u7ecf\u5728\u8fdb\u884c\u4e2d\uff0c\u4e0a\u6b21\u5f00\u59cb\u65f6\u95f4\uff1a".concat(C.formatTimeInMs(r.lastStartTime())))}return a.a.createElement(Ie,null,a.a.createElement(k.a,{size:"small",style:{backgroundColor:"white",margin:"1%"},bordered:!0,dataSource:function(){if(void 0===t)return[];if(0!==T){if(x.isStringEmpty(O))return[];var e=O.toLowerCase();return t.tasks.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e)||void 0!==t.childTasks.find((function(t){return-1!==t.name.toLowerCase().indexOf(e)}))||2==T&&(void 0!==t.note.timeLines.find((function(t){return-1!==t.content.toLowerCase().indexOf(e)}))||-1!==t.note.content.toLowerCase().indexOf(e))}))}return t.getTasks(V.getMyCurrentDayDur(y))}(),renderItem:function(e){return a.a.createElement(Ae,{choosed:e.isSameTask(o),key:e.id,onClick:function(t){return n=e,t.preventDefault(),void u(n);var n},isDone:e.isDone(),isFuture:e.isFutureTask(V.getMyCurrentDayDur(y)),onDoubleClick:function(t){return E(0,e)},level:e.level},a.a.createElement(h.a,{align:"middle"},a.a.createElement(v.a,{flex:"1 1 auto"},a.a.createElement(_e,{key:e.id,task:e})),a.a.createElement(v.a,{flex:"0 1 auto",style:{backgroundColor:"rgb(226, 226, 226)"}},a.a.createElement("span",{style:{paddingLeft:"5px"}},function(e){return"  "+ve.getDoingStatusTips(e)+ve.getDeadline(e)+ve.getConsumeExpected(e)}(e)),a.a.createElement(p.a,{overlay:j(e)},a.a.createElement("a",{style:{paddingLeft:5},className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},He(e.level)," ",a.a.createElement(b.a,null))),a.a.createElement(d.a,{style:{marginLeft:"5px",marginRight:"2px"},size:"small",onClick:function(t){return E(0,e)}},"Start"))))}}))};function He(e){switch(e){case 1:return"\ud83c\udf1f";case 2:return"\ud83c\udf8f";case 3:return"3\ufe0f\u20e3";case 4:return"4\ufe0f";case 5:return"5\ufe0f";default:return""}}var _e=function(e){var t=Object(r.useState)(e.task.title),n=Object(s.a)(t,2),i=n[0],o=n[1],u=he.useStore("mainmodel").saveTask;return a.a.createElement(l.a,{style:{background:"#ffffff70",fontWeight:"bold"},value:i,onChange:function(e){return o(e.target.value)},onBlur:function(t){e.task.title=i,u(e.task)}})},Fe=function(){var e=he.useStore("mainmodel"),t=e.storeModel,n=e.saveTask,i=e.saveCycleRecord,o=he.useStore("CurrentDayOffsetKey"),u=o.currentDayOffset,c=o.setCurrentDayOffset,k=he.useStore("SearchModeStoreKey"),D=k.searchMode,T=k.setSearchMode,S=he.useStore("SearchTextStoreKey"),O=(S.searchText,S.setSearchText),j=he.useStore("CurrentTaskKey"),E=(j.currentTask,j.setCurrentTask),w=Object(r.useState)(""),M=Object(s.a)(w,2),I=M[0],R=M[1],L=Object(r.useState)(""),A=Object(s.a)(L,2),N=A[0],H=A[1],_=Object(r.useState)(!0),F=Object(s.a)(_,2),K=F[0],z=F[1],P=Object(r.useState)(2),G=Object(s.a)(P,2),B=G[0],J=G[1],W=Object(r.useState)(3),U=Object(s.a)(W,2),Y=U[0],q=U[1],$=Object(r.useState)(!1),Q=Object(s.a)($,2),X=Q[0],Z=Q[1],ee=Object(r.useState)(1),ne=Object(s.a)(ee,2),re=ne[0],ae=ne[1],oe=Object(r.useState)(!1),ue=Object(s.a)(oe,2),ce=ue[0],se=ue[1],le=Object(r.useState)(3),de=Object(s.a)(le,2),fe=de[0],me=de[1],ge=Object(r.useState)(1),ve=Object(s.a)(ge,2),pe=ve[0],ke=ve[1],De=Object(r.useState)(!0),Te=Object(s.a)(De,2),Se=Te[0],Oe=Te[1],Ce=Object(r.useState)(null),xe=Object(s.a)(Ce,2),je=xe[0],Ee=xe[1];function Ie(e){e||!ce?z(e):f.a.error("\u957f\u4efb\u52a1\u5fc5\u987b\u4f30\u65f6")}function Ae(e){e&&function(e){e&&(Ie(!0),Ae(!1));se(e)}(!1),Z(e)}function _e(e){c(e?u+1:u-1)}function Fe(e){E(void 0),T(e)}function Ke(){return 0!==D}return a.a.createElement(we,null,a.a.createElement(Me,{style:{flex:"0 1 auto"}},a.a.createElement(Re,null,a.a.createElement(ye,null),a.a.createElement("span",{style:{paddingLeft:10}}),a.a.createElement(d.a,{type:"primary",size:"small",onClick:function(e){return _e(!1)}},"\u2190"),a.a.createElement("span",{style:{backgroundColor:"#ffffff",padding:4}},C.formatTimeInDay(V.getMyCurrentDayStamp(u,V.dayOffset)),"(",function(){var e=""+u;return u>0&&(e="+"+e),e}(),")"),a.a.createElement(d.a,{type:"primary",size:"small",onClick:function(e){return _e(!0)}},"\u2192"),a.a.createElement("span",{style:{paddingLeft:10}}),void 0!==t&&a.a.createElement(Le,{isDangerous:0!==t.config.totalAdjustConsumeTime},"\u9700\u5e73\u8861\u65f6\u95f4\uff1a",-t.config.totalAdjustConsumeTime/36e5,"h"),a.a.createElement(g.a,{style:{marginLeft:"10px",marginRight:"3px"},checkedChildren:"Search",unCheckedChildren:"Normal",checked:Ke(),onChange:function(e){return Fe(e?1:0)}}),Ke()&&a.a.createElement(g.a,{checkedChildren:"\u5185\u5bb9",unCheckedChildren:"\u6807\u9898",checked:2==D,onChange:function(e){return Fe(e?2:1)}})),!Ke()&&a.a.createElement("div",null,a.a.createElement(h.a,{align:"middle",style:{margin:"10px"}},a.a.createElement(v.a,{flex:"1 1 auto"},a.a.createElement(l.a,{placeholder:"\u8f93\u5165\u4efb\u52a1\uff0c\u56de\u8f66\u6dfb\u52a0",value:I,onChange:function(e){return R(e.target.value)},onPressEnter:function(e){if(e.preventDefault(),void 0!==t)if(x.isStringEmpty(I))f.a.error("\u8bf7\u8f93\u5165\u5185\u5bb9");else if(ce&&X)f.a.error("\u4e0d\u80fd\u540c\u65f6\u662f\u957f\u4efb\u52a1\u548c\u5468\u671f\u4efb\u52a1");else{if(X){var r=new ie;r.init(re,I,Y),Se||null===je||r.setStartTime(je.valueOf()),r.expectConsumes=K?3600*B*1e3:-1,t.addCycleRecord(r),t.normalUpdate(V.getMyCurrentDayDur(u)),i(r)}else{var a=new te;a.init(I),a.level=Y,Se||null===je||(a.expectStartTime=je.valueOf()),K?a.expectConsumes.push(3600*B*1e3):a.expectConsumes.push(-1);var o=t.addTask(a);if(!x.isStringEmpty(o))return void f.a.error("\u6dfb\u52a0\u5931\u8d25 ".concat(o));n(a),t.normalUpdate(V.getMyCurrentDayDur(u))}R(""),Ee(null)}else f.a.error("storeModel not init onAddTask")}})),a.a.createElement(v.a,{flex:"0 1 auto"},a.a.createElement(p.a,{overlay:a.a.createElement(m.a,{onClick:function(e){return q(Number(e.key))}},a.a.createElement(m.a.Item,{key:"1"},"\u4f18\u5148\u7ea7 1"),a.a.createElement(m.a.Item,{key:"2"},"\u4f18\u5148\u7ea7 2"),a.a.createElement(m.a.Item,{key:"3"},"\u4f18\u5148\u7ea7 3"),a.a.createElement(m.a.Item,{key:"4"},"\u4f18\u5148\u7ea7 4"),a.a.createElement(m.a.Item,{key:"5"},"\u4f18\u5148\u7ea7 5"))},a.a.createElement("a",{style:{paddingLeft:5},className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},He(Y)," ",a.a.createElement(b.a,null))),K&&a.a.createElement(l.a,{style:{width:"100px",marginLeft:"15px"},value:B,placeholder:"\u82b1\u8d39\u65f6\u95f4",prefix:"\u9884\u8ba1",suffix:"h",onChange:function(e){return J(Number(e.target.value))}}),a.a.createElement(g.a,{style:{marginLeft:"5px",marginRight:"3px"},checkedChildren:"\u4f30\u65f6",unCheckedChildren:"\u4e0d\u9650",checked:K,onChange:function(e){return Ie(e)}}),a.a.createElement(g.a,{style:{marginLeft:"5px",marginRight:"3px"},checkedChildren:"\u7acb\u523b\u5f00\u59cb",unCheckedChildren:"\u4e4b\u540e\u5f00\u59cb",checked:Se,onChange:function(e){return Oe(e)}}),a.a.createElement(g.a,{style:{marginLeft:"5px",marginRight:"3px"},checkedChildren:"\u5468\u671f",unCheckedChildren:"\u5355\u4e2a",checked:X,onChange:function(e){return Ae(e)}}))),a.a.createElement(Me,{style:{margin:"10px",color:"#ffffff"}},!Se&&a.a.createElement("span",{style:{marginLeft:"15px"}},"\u5f00\u59cb\u65f6\u95f4\uff1a",a.a.createElement(y.a,{showTime:!0,value:je,onOk:function(e){return Ee(be()(e.valueOf()))}})),ce&&a.a.createElement("span",{style:{marginLeft:"15px"}},"\u957f\u4efb\u52a1\uff1a",a.a.createElement(l.a,{style:{width:"100px"},value:fe,prefix:"\u8ba1\u5212",suffix:"\u5929",onChange:function(e){return me(Number(e.target.value))}}),a.a.createElement(l.a,{style:{width:"100px"},value:pe,prefix:"\u5047\u671f",suffix:"\u5929",onChange:function(e){return ke(Number(e.target.value))}})),X&&a.a.createElement(l.a,{style:{width:"100px",marginLeft:"15px"},value:re,placeholder:"1\u8868\u793a\u4e0d\u95f4\u9694",prefix:"\u6bcf",suffix:"\u5929",onChange:function(e){return ae(Number(e.target.value))}})),a.a.createElement("span",{style:{backgroundColor:"#ffffff",padding:2,margin:"10px"}},function(){if(void 0===t)return"";var e=t.getTasks(V.getMyCurrentDayDur(u),!1).filter((function(e){return!e.isDone()}));if(0===e.length)return"";var n="",r=e.map((function(e){var t=e.getLeftExpectConsumeTime();return t<0?0:t})).reduce((function(e,t){return e+t}));return r>0&&(n="\uff0c\u603b\u5269\u4f59\u9884\u4f30\u9700\u8981\u82b1\u8d39".concat(C.formatDuration(r))),"\u5171".concat(e.length,"\u4e2a\u4efb\u52a1\u672a\u5b8c\u6210").concat(n)}())),Ke()&&a.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},a.a.createElement(l.a,{placeholder:"\u56de\u8f66\u8fdb\u884c\u641c\u7d22",value:N,onChange:function(e){return H(e.target.value)},onPressEnter:function(){O(N)}}))),a.a.createElement(Ne,null))},Ke=n(188),ze=n.n(Ke);n(362);function Pe(){var e=Object(u.a)(["\n  padding-left:2px;\n  padding-right:2px;\n  margin-left:1px;\n  margin-right:1px;\n  :hover{\n    background-color: #901401;\n    opacity:1;\n    };\n    background-color:#fd7560;\n    opacity : ",";\n"]);return Pe=function(){return e},e}function Ge(){var e=Object(u.a)(["\n  padding-left:4px;\n  padding-right:4px;\n  margin-left:2px;\n  margin-right:2px;\n  color:#fff;\n  :hover{\n    background-color: #02472f;\n    opacity:1;\n    };\n    background-color:#00b477;\n    opacity : ",";\n"]);return Ge=function(){return e},e}function Be(){var e=Object(u.a)(["\n    padding-top:1px;\n    padding-bottom:1px;\n    padding-left:2px;\n    padding-right:2px;\n    :hover{\n  background-color: #a2e3cd;\n  };\n  background-color:#e3e9e7;\n    font-size:12px;\n  "]);return Be=function(){return e},e}function Je(){var e=Object(u.a)(["\npadding-top:1px;\npadding-bottom:1px;\npadding-left:2px;\npadding-right:2px;\n:hover{\nbackground-color: #ffcdc5;\n};\nbackground-color:#fdf0ee;\nfont-size:14px;\n\nopacity : ",";\n"]);return Je=function(){return e},e}function We(){var e=Object(u.a)(["\n  height: 250px;\noverflow-y: scroll;\nmargin-left:5px;\n/* margin-top:1px; */\nmargin-bottom:5px;\nwhite-space: pre-wrap;\nbackground-color:#ffffff;\n/* background-color:rgb(227, 233, 231); */\n\n::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 7px;\n        }\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background-color: rgba(0, 0, 0, .5);\n            box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n        }\n"]);return We=function(){return e},e}function Ue(){var e=Object(u.a)(["\nmargin: 2px;\n"]);return Ue=function(){return e},e}function Ye(){var e=Object(u.a)(["\n  flex-grow: 1;\n"]);return Ye=function(){return e},e}function Ve(){var e=Object(u.a)(["\n"]);return Ve=function(){return e},e}function qe(){var e=Object(u.a)(["\n"]);return qe=function(){return e},e}function $e(){var e=Object(u.a)(["\n  background: #ffffff;\n  display: flex;\n  height: 100vh;\n  flex-direction: column;\n"]);return $e=function(){return e},e}var Qe=c.a.div($e()),Xe=c.a.div(qe()),Ze=Object(c.a)(ze.a)(Ve()),et=c.a.div(Ye()),tt=Object(c.a)(d.a.Group)(Ue()),nt=c.a.div(We()),rt=c.a.div(Je(),(function(e){return e.isDone?.15:1})),at=c.a.div(Be()),it=c.a.span(Ge(),(function(e){return e.isHover?1:.05})),ot=Object(c.a)(it)(Pe(),(function(e){return e.isHover?1:.05})),ut=function(){var e=he.useStore("mainmodel"),t=e.storeModel,n=e.saveTask,i=e.saveConfig,o=he.useStore("CurrentTaskKey").currentTask,u=he.useStore("CurrentDayOffsetKey"),c=u.currentDayOffset,m=(u.setCurrentDayOffset,Object(r.useState)("")),h=Object(s.a)(m,2),v=h[0],p=h[1],b=Object(r.useState)(""),D=Object(s.a)(b,2),T=D[0],S=D[1],O=Object(r.useState)(""),j=Object(s.a)(O,2),E=j[0],w=j[1],M=Object(r.useState)(!1),I=Object(s.a)(M,2),R=I[0],L=I[1],A=Object(r.useState)(-1),N=Object(s.a)(A,2),H=N[0],_=N[1],F=Object(r.useState)(""),K=Object(s.a)(F,2),z=K[0],P=K[1],G=Object(r.useState)(!1),B=Object(s.a)(G,2),J=B[0],W=B[1],U=Object(r.useState)(null),Y=Object(s.a)(U,2),q=Y[0],$=Y[1],Q=Object(r.useState)(!1),X=Object(s.a)(Q,2),Z=X[0],ee=X[1],te=Object(r.useState)(""),ie=Object(s.a)(te,2),oe=ie[0],ce=ie[1],se=Object(r.useState)(null),le=Object(s.a)(se,2),de=le[0],fe=le[1],me=Object(r.useState)(null),ge=Object(s.a)(me,2),ye=ge[0],ke=(ge[1],Object(r.useState)(null)),De=Object(s.a)(ke,2),Te=De[0],Se=(De[1],Object(r.useState)(null)),Oe=Object(s.a)(Se,2),Ce=Oe[0],xe=Oe[1],je=he.useStore("CurrentDoingTaskKey"),Ee=(je.currentDoingTask,je.setCurrentDoingTask),we=Object(r.useState)(void 0),Me=Object(s.a)(we,2),Ie=Me[0],Re=Me[1];function Le(e){e.done(),null===t||void 0===t||t.normalUpdate(V.getMyCurrentDayDur(c)),f.a.success("\u4efb\u52a1\u5df2\u5b8c\u6210"),n(e)}function Ae(e){var t=e.getActualDeadline();return t>0?be()(t):null}function Ne(e,t){for(var n=!0,r=0;r<(arguments.length<=2?0:arguments.length-2);r++){var a=r+2<2||arguments.length<=r+2?void 0:arguments[r+2];if(a.start>0&&e<a.start?(f.a.error("".concat(t,"(").concat(C.formatTimeInMinute(e),")\u65e9\u4e8e").concat(a.start,"(").concat(C.formatTimeInMinute(a.start),")\uff0c\u8bf7\u91cd\u65b0\u8bbe\u7f6e")),n=!1):a.end>0&&e>a.end&&(f.a.error("".concat(t,"(").concat(C.formatTimeInMinute(e),")\u665a\u4e8e").concat(a.end,"(").concat(C.formatTimeInMinute(a.end),")\uff0c\u8bf7\u91cd\u65b0\u8bbe\u7f6e")),n=!1),!n)return!1}return!0}function He(e){var t=e.pendingDeadline;return t>0?be()(t):null}function _e(e){if(void 0!==o){var t=o;e||(t.expectConsumes.push(-1),_(-1),n(t)),L(e)}}function Fe(e){if(void 0!==o){var t=o;e||(t.deadlines.push(-1),$(null),n(t)),W(e)}}function Ke(e,t,r){r?t.addOrder():t.downOrder(),n(e)}Object(r.useEffect)((function(){if(void 0!==o&&!o.isSameTask(Ie)){Re(o),p(o.note.content);var e=o.getActualExpectConsume();e<0?(_(e),_e(!1)):(_e(!0),_(e/36e5)),P(""),ee(o.isPending()),ce(o.pendingReason),fe(He(o)),$(Ae(o)),Fe(o.isHaveDeadline()),void 0===o||o.isStarted()?xe(null):xe(be()(o.expectStartTime)),null===t||void 0===t||t.normalUpdate(V.getMyCurrentDayDur(c))}}));var ze,Pe=a.a.useRef(null);return Object(r.useEffect)((function(){var e=document.querySelector(".CodeMirror"),t=Pe.current;e&&t&&e.setAttribute("style","height:"+(t.clientHeight-88)+"px;box-shadow:none")})),void 0===o?a.a.createElement(Xe,null):a.a.createElement(Qe,null,void 0!==o&&a.a.createElement(Xe,{style:{margin:"5px"}},a.a.createElement("div",{style:{marginLeft:"5px",marginRight:"5px",fontWeight:"bold"}},o.title," ",(ze=o).isCycleTask()?V.getMyCurrentDayDur(0).isIn(ze.expectStartTime)?"":"\u3010\u8d85\u671f\u274c\u3011":""),a.a.createElement(tt,null,a.a.createElement(d.a,{onClick:function(e){void 0!==o&&pe.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",content:"\u662f\u5426\u5220\u9664\u4efb\u52a1\uff1a".concat(o.title),onOk:function(){o.isDeleted=!0,n(o),f.a.success("\u5220\u9664\u4efb\u52a1\u6210\u529f")}})}},"D"),a.a.createElement(d.a,{onClick:function(e){return function(e){if(void 0!==o){var t=o;if(t.isDone())f.a.error("\u4efb\u52a1\u5df2\u5b8c\u6210\uff0c\u5b8c\u6210\u65f6\u95f4:".concat(C.formatTimeInMs(t.doneTime)));else{var n=t.childTasks.find((function(e){return!e.isDone()}));void 0===n?t.isDoing()?(t.stop(),Ee(void 0),Le(t)):pe.a.confirm({title:"\u5f53\u524d\u4efb\u52a1\u4e0d\u5728\u8fdb\u884c\u4e2d\uff0c\u786e\u5b9a\u8981\u5b8c\u6210\u5417\uff1f",content:"\u662f\u5426\u5b8c\u6210\u4efb\u52a1\uff1a".concat(t.title),onOk:function(){Le(t)}}):f.a.error("\u6709\u5b50\u4efb\u52a1\u672a\u5b8c\u6210:".concat(n.name))}}}()}},"Done")),a.a.createElement(g.a,{style:{marginLeft:"5px",marginRight:"3px"},checkedChildren:"\u4f30\u65f6",unCheckedChildren:"\u4e0d\u9650",checked:R,onChange:function(e){return _e(e)}}),a.a.createElement(g.a,{style:{marginLeft:"5px",marginRight:"3px"},checkedChildren:"\u622a\u6b62\u65f6\u95f4",unCheckedChildren:"\u6ca1\u6709\u622a\u6b62",checked:J,onChange:function(e){return Fe(e)}}),a.a.createElement(g.a,{style:{marginLeft:"9px",marginRight:"5px"},checkedChildren:"Pending",unCheckedChildren:"NoPend",checked:Z,onChange:function(e){return function(e){if(void 0!==o){var t=o;e||(t.pendingDeadline=-1,fe(null),n(t)),ee(e)}}(e)}})),a.a.createElement("div",{style:{marginLeft:"15px",marginRight:"15px",fontWeight:"bold"}},function(){if(void 0===o)return"";var e=o;return ve.getDoingStatusTips(e)+ve.getConsumed(e)+ve.getDeadline(e)+ve.getConsumeExpected(e)+ve.getStartExpected(e)}()),void 0!==o&&a.a.createElement(Xe,{style:{marginTop:"5px",marginBottom:"5px"}},null!==Ce&&a.a.createElement("span",{style:{marginLeft:"15px"}},"\u9884\u671f\u5f00\u59cb\u65f6\u95f4\uff1a",a.a.createElement(y.a,{showTime:!0,value:Ce,onOk:function(e){return function(e,t){var r=e.valueOf();Ne(r,"\u9884\u671f\u5f00\u59cb\u65f6\u95f4",ne.create(void 0,t.pendingDeadline,"PendLine"),ne.create(void 0,t.getActualDeadline(),"Deadline"))&&(xe(be()(r)),t.expectStartTime=r,n(t))}(e,o)}})),o.isStarted()&&a.a.createElement(l.a,{style:{marginLeft:"15px",width:"150px"},value:z,placeholder:"".concat(o.allAdjusts()/36e5," \u56de\u8f66\u4fdd\u5b58"),prefix:"\u8c03\u6574\u8017\u65f6",suffix:"h",onChange:function(e){return P(e.target.value)},onPressEnter:function(){if(void 0!==t){if(void 0!==o){var e=o,r=Number(z);if(0!==r&&NaN!==r){var a=3600*r*1e3;if(a+e.getAllDuration()<0)f.a.error("\u8c03\u6574\u65f6\u95f4\u8d85\u8fc7\u5df2\u6d88\u8017\u65f6\u95f4");else{e.adjusts.push(re.create(a)),t.config.totalAdjustConsumeTime+=a,i();var u="";u=r>0?"\u589e\u52a0 ".concat(r," "):"\u51cf\u5c11 ".concat(-r," "),f.a.success("\u8017\u65f6\u5df2".concat(u,"\u5c0f\u65f6")),P(""),n(e)}}else f.a.error("\u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u5b57")}}else f.a.error("storeModel \u672a\u521d\u59cb\u5316")}}),R&&a.a.createElement("span",{style:{marginLeft:"15px"}},"\u4f30\u65f6\uff1a",a.a.createElement(l.a,{style:{width:"100px"},value:H,placeholder:"\u82b1\u8d39\u65f6\u95f4 \u81ea\u52a8\u4fdd\u5b58",prefix:"\u9884\u8ba1",suffix:"h",onChange:function(e){return _(Number(e.target.value))},onBlur:function(){if(void 0!==o){var e=o;-1==H?e.expectConsumes.push(-1):e.expectConsumes.push(3600*H*1e3),n(e)}}})),J&&a.a.createElement("span",{style:{marginLeft:"15px"}},"DeadLine\uff1a",a.a.createElement(y.a,{showTime:!0,value:q,onOk:function(e){return function(e){if(void 0!==o){var t=o;t.deadlines.push(e.valueOf()),$(Ae(o)),n(t)}}(e)}})),Z&&a.a.createElement("span",{style:{marginLeft:"15px"}},"Pending\uff1a",a.a.createElement(y.a,{showTime:!0,value:de,onOk:function(e){return function(e){if(void 0!==o){var t=o;if(Z){var r=e.valueOf();Ne(r,"Pending\u65f6\u95f4",ne.create(void 0,t.getActualDeadline(),"Deadline"))&&(t.pendingDeadline=r,fe(He(t)),n(t))}else f.a.error("\u8bbe\u7f6e\u65e0\u6548\uff0c\u8bf7\u6253\u5f00 pending \u5f00\u5173\u540e\u91cd\u65b0\u8bbe\u7f6e")}}(e)}}),a.a.createElement(l.a,{style:{width:"200px"},value:oe,prefix:"\u539f\u56e0:",placeholder:"\uff08\u81ea\u52a8\u4fdd\u5b58\uff09",onChange:function(e){return ce(e.target.value)},onBlur:function(){if(void 0!==o){var e=o;e.pendingReason=oe,n(e)}}}))),void 0!==o&&a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(Xe,{style:{marginLeft:"15px",marginRight:"5px",width:"60%"}},a.a.createElement(l.a,{placeholder:"\u8f93\u5165\u65f6\u95f4\u7ebf\uff0c\u56de\u8f66\u6dfb\u52a0",value:T,onChange:function(e){return S(e.target.value)},onPressEnter:function(e){e.preventDefault(),void 0!==o&&(x.isStringEmpty(T)?f.a.error("\u8bf7\u8f93\u5165\u5185\u5bb9"):(o.note.timeLines.push(ue.createContentNode(T)),n(o),S("")))}}),a.a.createElement(nt,null,a.a.createElement(k.a,{size:"small",bordered:!0,dataSource:o.note.getFormartTimeLines(o.doingDurs),renderItem:function(e){return a.a.createElement(at,{key:e.getKey()},e.isDivder?a.a.createElement("span",{style:{backgroundColor:"#f9e6ba",color:"#ce9100"}},"\u2517\u2501 ".concat(C.formatTimeInDay(e.timeStamp)," \u2501\u2501\u2501\u2501")):a.a.createElement("span",null,a.a.createElement("span",{style:{color:"#ce9100",paddingRight:"2px"}}," ",C.formatTimeInSecond(e.timeStamp)),e.content,a.a.createElement(it,{isHover:(null===ye||void 0===ye?void 0:ye.timeStamp)===e.timeStamp,onClick:function(t){return function(e,t){t.isStartEndAutoGen?pe.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64 Dur \u5417\uff1f",content:"\u662f\u5426\u5220\u9664\u6b64 Dur\uff0c\u8fd9\u610f\u5473\u7740\u6d88\u8017\u65f6\u95f4\u4e5f\u4f1a\u91cd\u65b0\u8ba1\u7b97\uff0c\u5c06\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u4ed4\u7ec6\u786e\u8ba4",onOk:function(){e.removeDuration(t.timeStamp)?(f.a.success("\u5220\u9664 Dur \u6210\u529f"),n(e)):f.a.error("\u5220\u9664 Dur \u5931\u8d25")}}):pe.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64 TimeLine \u5417\uff1f",content:"\u662f\u5426\u5220\u9664 ".concat(t.content,"\uff0c\u5c06\u4e0d\u53ef\u6062\u590d"),onOk:function(){e.removeTimeline(t)?(f.a.success("\u5220\u9664TimeLine\u6210\u529f"),n(e)):f.a.error("\u5220\u9664TimeLine\u5931\u8d25")}})}(o,e)}},"\u5220\u9664")))}}))),a.a.createElement(Xe,{style:{marginLeft:"5px",marginRight:"15px",width:"40%"}},a.a.createElement(l.a,{placeholder:"\u8f93\u5165\u5b50\u4efb\u52a1\uff0c\u56de\u8f66\u6dfb\u52a0",value:E,onChange:function(e){return w(e.target.value)},onPressEnter:function(e){return function(e){x.isStringEmpty(E)?f.a.error("\u8bf7\u8f93\u5165\u5185\u5bb9"):(e.childTasks.push(ae.create(E)),n(e),w(""))}(o)}}),a.a.createElement(nt,null,a.a.createElement(k.a,{size:"small",bordered:!0,dataSource:o.getOrderedChildTasks(),renderItem:function(e){return a.a.createElement(rt,{key:e.createTime,isDone:e.isDone()},a.a.createElement("span",{style:{fontWeight:"bold"}},e.name),a.a.createElement("span",{style:{color:"#00000055"}}," (",e.order,") "),a.a.createElement(ot,{isHover:(null===Te||void 0===Te?void 0:Te.createTime)===e.createTime,onClick:function(t){return function(e,t){t.isDone()?(t.reStart(),f.a.success("\u4efb\u52a1\u5df2\u91cd\u65b0\u5f00\u59cb")):(t.done(),f.a.success("\u4efb\u52a1\u5df2\u5b8c\u6210")),n(e)}(o,e)}},"\u5b8c"),a.a.createElement(ot,{isHover:(null===Te||void 0===Te?void 0:Te.createTime)===e.createTime,onClick:function(t){return function(e,t){ce(t.name),e.pendingReason=t.name,n(e)}(o,e)}},"PE"),a.a.createElement(ot,{isHover:(null===Te||void 0===Te?void 0:Te.createTime)===e.createTime,onClick:function(t){return Ke(o,e,!0)}},"\u2191"),a.a.createElement(ot,{isHover:(null===Te||void 0===Te?void 0:Te.createTime)===e.createTime,onClick:function(t){return Ke(o,e,!1)}},"\u2193"),a.a.createElement(ot,{isHover:(null===Te||void 0===Te?void 0:Te.createTime)===e.createTime,onClick:function(t){return function(e,t){pe.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64 ChildTask \u5417\uff1f",content:"\u662f\u5426\u5220\u9664 ChildTask: ".concat(t.name,"\uff0c\u5c06\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u4ed4\u7ec6\u786e\u8ba4"),onOk:function(){e.removeChildTask(t)?(f.a.success("\u5220\u9664 ChildTask \u6210\u529f"),n(e)):f.a.error("\u5220\u9664 ChildTask \u5931\u8d25")}})}(o,e)}},"\u5220"))}})))),a.a.createElement(et,{onBlur:function(e){e.preventDefault(),function(e,t){e&&e.preventDefault();if(void 0===o)return;o.note.content=v,n(o),t&&f.a.info("\u5df2\u4fdd\u5b58")}(e,!1)},ref:Pe},a.a.createElement(Ze,{key:o&&o.id,value:v,onChange:p,options:{spellChecker:!1,hideIcons:["side-by-side","guide"]}})))},ct=n(375);function st(){var e=Object(u.a)(["\npadding-top:1px;\npadding-bottom:1px;\npadding-left:2px;\npadding-right:2px;\n:hover{\nbackground-color: #a2e3cd;\n};\nbackground-color:#e3e9e7;\nfont-size:11px;\n"]);return st=function(){return e},e}function lt(){var e=Object(u.a)(["\nheight: 55vh;\noverflow-y: scroll;\nwhite-space: pre-wrap;\nbackground-color:#ffffff;\n/* background-color:rgb(227, 233, 231); */\n\n::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 7px;\n        }\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background-color: rgba(0, 0, 0, .5);\n            box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n        }\n"]);return lt=function(){return e},e}var dt=c.a.div(lt()),ft=c.a.div(st()),mt=function(){var e=he.useStore("mainmodel").storeModel,t=Object(r.useState)(200),n=Object(s.a)(t,2),i=n[0],o=n[1];return a.a.createElement(dt,null,a.a.createElement(ct.a.Group,{onChange:function(e){return o(Number(e.target.value))},defaultValue:"200",size:"small"},a.a.createElement(ct.a.Button,{value:"200"},"200"),a.a.createElement(ct.a.Button,{value:"400"},"400"),a.a.createElement(ct.a.Button,{value:"600"},"600"),a.a.createElement(ct.a.Button,{value:"800"},"800"),a.a.createElement(ct.a.Button,{value:"1000"},"1000")),a.a.createElement(k.a,{size:"small",bordered:!0,dataSource:function(){if(void 0===e)return[];var t=e.tasks.flatMap((function(e){return e.note.getStartEndWrappedTimeLines(e.doingDurs).map((function(t){return t.getTitled(e.title)}))})).filter((function(e){return!e.isDivder})).sort((function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0})).slice(0,i);return ue.addDivders(t)}(),renderItem:function(e){return a.a.createElement(ft,{key:e.timeStamp},e.isDivder?a.a.createElement("span",{style:{backgroundColor:"#f9e6ba",color:"#ce9100"}},"\u2517\u2501 ".concat(C.formatTimeInDay(e.timeStamp)," \u2501\u2501\u2501\u2501")):a.a.createElement("span",null,a.a.createElement("span",{style:{color:"#ce9100",paddingRight:"2px"}},C.formatTimeInSecond(e.timeStamp)),a.a.createElement("span",{style:{color:"#229a72",display:"inline-block",verticalAlign:"top",maxWidth:"110px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"  ",e.title," "),e.content))}}))};function gt(){var e=Object(u.a)(["\npadding:2px;\nmargin:1px;\n:hover{\n  background-color: ","\n};\nbackground-color: ",";\n\n"]);return gt=function(){return e},e}function ht(){var e=Object(u.a)(["\nheight: 45vh;\noverflow-y: scroll;\nwhite-space: pre-wrap;\nbackground-color:#ffffff;\n\n::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 7px;\n        }\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background-color: rgba(0, 0, 0, .5);\n            box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n        }\n"]);return ht=function(){return e},e}var vt=c.a.div(ht()),pt=c.a.div(gt(),(function(e){return e.choosed?"#f5b52b":"#b4e7fc"}),(function(e){return e.choosed?"#f5b52b":"rgba(194, 226, 255, 0.495)"})),yt=function(){var e=he.useStore("mainmodel").storeModel,t=he.useStore("CurrentTaskKey"),n=t.currentTask,r=t.setCurrentTask,i=he.useStore("CurrentDayOffsetKey"),o=i.currentDayOffset;i.setCurrentDayOffset;return a.a.createElement(vt,null,a.a.createElement(k.a,{size:"small",bordered:!0,dataSource:void 0===e?[]:e.getCurrentDayDoingTasks(V.getMyCurrentDayDur(o)).sort((function(e,t){return e.lastStartTime()>t.lastStartTime()?-1:e.lastStartTime()<t.lastStartTime()?1:0})),renderItem:function(e){return a.a.createElement(pt,{choosed:e.isSameTask(n),key:e.id,onClick:function(t){return r(e)}},e.title,a.a.createElement("span",{style:{color:"#0295d2"}},C.formatDuration3(e.getAllDurationInDur(V.getMyCurrentDayDur(0)))))}}))};function kt(){var e=Object(u.a)(["\n  display: grid;\n  min-height: 100vh;\n  height: 100%;\n  width: 100%;\n  grid-template-columns: 35% 45% 20%;\n  grid-template-rows: 100%;\n"]);return kt=function(){return e},e}var bt=c.a.div(kt());var Dt=function(){var e=he.useStore("mainmodel").fetchData;return Object(r.useEffect)((function(){e()}),[]),a.a.createElement(bt,null,a.a.createElement(Fe,null),a.a.createElement(ut,null),a.a.createElement("div",null,a.a.createElement(mt,null),a.a.createElement(yt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.e6328da0.chunk.js.map