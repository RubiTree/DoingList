{"ast":null,"code":"var _jsxFileName = \"/Users/bear/Develop/vscode/self/study/study1/React/DoingList/doinglist2/src/layouts/TimeLineLayout.tsx\";\nimport 'reflect-metadata';\nimport React from 'react';\nimport styled from 'styled-components';\nimport stores from '../stores';\nimport { List } from 'antd';\nimport DateUtils from '../utils/DateUtils';\nimport Format from '../utils/Format';\nconst Div = styled.div`\nheight: 55vh;\noverflow-y: scroll;\nwhite-space: pre-wrap;\npadding: 5px;\nbackground-color:rgb(227, 233, 231);\n\n::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 7px;\n        }\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background-color: rgba(0, 0, 0, .5);\n            box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n        }\n`;\n\nconst TimeLineLayout = () => {\n  const {\n    storeModel\n  } = stores.useStore('mainmodel'); // React.useEffect(() => {\n  //   console.log(\"app useEffect\")\n  // },[])\n\n  function getTimelines() {\n    return storeModel.getTasks(DateUtils.getMyCurrentDayDur(0)).flatMap(task => task.note.timeLines.map(timeline => {\n      return timeline.getTitled(task.title);\n    })).sort((a, b) => {\n      if (a.timeStamp > b.timeStamp) {\n        return -1;\n      } else if (a.timeStamp < b.timeStamp) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }).map(timeline => {\n      if (timeline.isDivder) {\n        return \"\";\n      } else {\n        return `${Format.formatTimeInSecond2(timeline.timeStamp)} ${timeline.content} \\n`;\n      }\n    }).join(\"\");\n  }\n\n  function getCurrentDayDoingTasks() {\n    return storeModel.getTasks(DateUtils.getMyCurrentDayDur(0)).flatMap(task => task.note.timeLines.map(timeline => {\n      return timeline.getTitled(task.title);\n    })).sort((a, b) => {\n      if (a.timeStamp > b.timeStamp) {\n        return -1;\n      } else if (a.timeStamp < b.timeStamp) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n  }\n\n  const NoteItem = styled.div`\npadding:2px;\nmargin:1px;\n:hover{\n  background-color: ${props => {\n    if (props.choosed) {\n      return '#f5b52b';\n    } else {\n      return '#b4e7fc';\n    }\n  }}\n};\nbackground-color: ${props => {\n    if (props.choosed) {\n      return '#f5b52b';\n    } else {\n      return 'rgba(194, 226, 255, 0.495)';\n    }\n  }};\n\n`;\n  return /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    size: \"small\",\n    bordered: true,\n    dataSource: getCurrentDayDoingTasks(),\n    renderItem: task => /*#__PURE__*/React.createElement(NoteItem, {\n      choosed: task.isSameTask(currentTask),\n      key: task.id,\n      onClick: e => setCurrentTask(task),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, task.title, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"#0295d2\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 26\n      }\n    }, Format.formatDuration3(task.getAllDurationInDur(DateUtils.getMyCurrentDayDur(0))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TimeLineLayout;","map":{"version":3,"sources":["/Users/bear/Develop/vscode/self/study/study1/React/DoingList/doinglist2/src/layouts/TimeLineLayout.tsx"],"names":["React","styled","stores","List","DateUtils","Format","Div","div","TimeLineLayout","storeModel","useStore","getTimelines","getTasks","getMyCurrentDayDur","flatMap","task","note","timeLines","map","timeline","getTitled","title","sort","a","b","timeStamp","isDivder","formatTimeInSecond2","content","join","getCurrentDayDoingTasks","NoteItem","props","choosed","isSameTask","currentTask","id","e","setCurrentTask","color","formatDuration3","getAllDurationInDur"],"mappings":"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","sourcesContent":["import 'reflect-metadata'\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport stores from '../stores';\nimport { List } from 'antd';\nimport { StoreModel, Task, Duration, TimeLine } from '../model/model'\nimport DateUtils from '../utils/DateUtils'\nimport Format from '../utils/Format'\n\n\nconst Div = styled.div`\nheight: 55vh;\noverflow-y: scroll;\nwhite-space: pre-wrap;\npadding: 5px;\nbackground-color:rgb(227, 233, 231);\n\n::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 7px;\n        }\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background-color: rgba(0, 0, 0, .5);\n            box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n        }\n`\n\nconst TimeLineLayout: React.FC = () => {\n  const { storeModel } = stores.useStore('mainmodel') as { storeModel: StoreModel };\n\n  // React.useEffect(() => {\n  //   console.log(\"app useEffect\")\n  // },[])\n\n  function getTimelines(): string {\n    return storeModel.getTasks(DateUtils.getMyCurrentDayDur(0))\n      .flatMap((task) => task.note.timeLines.map((timeline) => {\n        return timeline.getTitled(task.title)\n      })).sort((a, b) => {\n        if (a.timeStamp > b.timeStamp) {\n          return -1\n        } else if (a.timeStamp < b.timeStamp) {\n          return 1\n        } else {\n          return 0\n        }\n      }\n      )\n      .map((timeline) => {\n        if (timeline.isDivder) {\n          return \"\"\n        } else {\n          return `${Format.formatTimeInSecond2(timeline.timeStamp)} ${timeline.content} \\n`\n        }\n      }).join(\"\")\n  }\n\n  function getCurrentDayDoingTasks(): TimeLine[] {\n    return storeModel.getTasks(DateUtils.getMyCurrentDayDur(0))\n    .flatMap((task) => task.note.timeLines.map((timeline) => {\n      return timeline.getTitled(task.title)\n    })).sort((a, b) => {\n      if (a.timeStamp > b.timeStamp) {\n        return -1\n      } else if (a.timeStamp < b.timeStamp) {\n        return 1\n      } else {\n        return 0\n      }\n    }\n    )\n  }\n\n  const NoteItem = styled.div`\npadding:2px;\nmargin:1px;\n:hover{\n  background-color: ${(props: { choosed: boolean }) => {\n    if (props.choosed) {\n      return '#f5b52b'\n    } else {\n      return '#b4e7fc'\n    }\n  }\n  }\n};\nbackground-color: ${(props: { choosed: boolean }) => {\n    if (props.choosed) {\n      return '#f5b52b'\n    } else {\n      return 'rgba(194, 226, 255, 0.495)'\n    }\n  }\n  };\n\n`\n\n  return (\n    <Div>\n      <List\n        size=\"small\"\n        bordered\n        dataSource={getCurrentDayDoingTasks()}\n        renderItem={task => (\n          <NoteItem choosed={task.isSameTask(currentTask)} key={task.id} onClick={(e) => setCurrentTask(task)}>\n            {task.title} <span style={{ color:\"#0295d2\" }}>{Format.formatDuration3(task.getAllDurationInDur(DateUtils.getMyCurrentDayDur(0)))}</span>\n          </NoteItem>\n        )}\n      />\n    </Div>\n  );\n}\n\nexport default TimeLineLayout;\n"]},"metadata":{},"sourceType":"module"}